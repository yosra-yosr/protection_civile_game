// data.js - Configuration des domaines et catégories du quiz avec intégration des questions existantes
export const domains = {
  'العسكريّات': {
    id: 'military',
    icon: '🎖️',
    color: '#1f2937',
    gradient: 'linear-gradient(135deg, #1f2937, #111827)',
    order: 1,
    description: 'التّكوين الأساسي',
    categories: {
      'ثقافة عامة': {
        icon: '🔥',
        color: '#dc2626',
        gradient: 'linear-gradient(135deg, #dc2626, #b91c1c)',
        type: 'qcm',
        questions: [
                  // الأسئلة الأساسية الموجودة
        { question: 'ما هو رقم الطوارئ للحماية المدنية في تونس؟', options: ['198', '199', '197', '911'], correct: 0, explanation: 'رقم 198 هو الرقم المخصص للاتصال بالحماية المدنية في تونس' },
        { question: 'متى تأسست النواة الأولى للحماية المدنية في تونس؟', options: ['1894', '1920', '1949', '1993'], correct: 0, explanation: 'تأسست في 1 نوفمبر 1894 تحت اسم جمعية التعاون للنجدة' },
        { question: 'كم عدد أفراد الحماية المدنية حاليا؟', options: ['5000', '6000', '7054', '8000'], correct: 2, explanation: 'العدد الحالي هو 7054 شخص' },
        
        // أسئلة الشعار والرموز - محدثة
        { question: 'ما هو الشعار الصحيح للحماية المدنية التونسية؟', options: ['وقاية نجدة إنقاذ', 'نجدة وقاية إنقاذ', 'إنقاذ نجدة وقاية', 'حماية نجدة وقاية'], correct: 0, explanation: 'الشعار الرسمي هو: وقاية نجدة إنقاذ' },
        { question: 'ماذا يرمز اللون الأخضر في شعار الحماية المدنية؟', options: ['السلام والأمن الداخلي', 'الطبيعة والبيئة', 'الأمل والتجديد', 'الصحة والسلامة'], correct: 0, explanation: 'يرمز اللون الأخضر إلى السلام والأمن الداخلي' },
        { question: 'ماذا يرمز المثلث الأزرق في الشعار؟', options: ['الماء والبحر', 'السماء', 'الإسعاف والمساعدة الأولية', 'التكنولوجيا'], correct: 2, explanation: 'المثلث الأزرق يرمز للإسعاف والمساعدة الأولية' },
        { question: 'ماذا ترمز الخوذة في شعار الحماية المدنية؟', options: ['الحرب', 'الحماية والمقاومة', 'الصناعة', 'الرياضة'], correct: 1, explanation: 'الخوذة ترمز للحماية ومقاومة أخطاء الحرائق' },
        { question: 'ماذا يرمز غصن الزيتون في الشعار؟', options: ['الزراعة', 'السلام', 'القوة', 'التقليد'], correct: 1, explanation: 'غصن الزيتون رمز عالمي للسلام' },

        // أسئلة تاريخية وثقافية إضافية
        { question: 'من هو القائد الحالي للديوان الوطني للحماية المدنية؟', options: ['معز الدشراوي', 'أحمد البحري', 'محمد السلامي', 'علي الزغلامي'], correct: 0, explanation: 'القائد الحالي هو معز الدشراوي' },
        { question: 'متى يحتفل بالذكرى السنوية للحماية المدنية؟', options: ['1 يناير', '1 مارس', '1 مايو', '1 نوفمبر'], correct: 1, explanation: 'الذكرى السنوية في 1 مارس من كل عام' },
        { question: 'أين يقع المقر الرئيسي للديوان الوطني للحماية المدنية؟', options: ['شارع الحبيب بورقيبة', 'نهج البورصة، ضفاف البحيرة', 'شارع محمد الخامس', 'المنزه السياحي'], correct: 1, explanation: 'المقر في نهج البورصة، ضفاف البحيرة 2 - تونس العاصمة' },
        
        // أسئلة حول المهام والتنظيم
        { question: 'ما هو الحد الأدنى لسن التطوع في الحماية المدنية؟', options: ['18 سنة', '20 سنة', '21 سنة', '25 سنة'], correct: 1, explanation: 'الحد الأدنى هو 20 سنة وفقاً للأمر عدد 2428 لسنة 1999' },
        { question: 'كم عدد الإدارات الفرعية في هيكل الحماية المدنية؟', options: ['3', '4', '5', '6'], correct: 2, explanation: 'تتمتع هيكلياً بخمس إدارات فرعية منذ 1991' },
        { question: 'متى صدر القانون المؤسس للديوان الوطني للحماية المدنية؟', options: ['27 ديسمبر 1991', '27 ديسمبر 1992', '27 ديسمبر 1993', '27 ديسمبر 1994'], correct: 2, explanation: 'صدر القانون عدد 121 لسنة 1993 في 27 ديسمبر 1993' },
        
        // أسئلة حول التاريخ العالمي للحماية المدنية
        { question: 'من هو مؤسس المنظمة الدولية للحماية المدنية؟', options: ['هنري دونان', 'جورج سان بول', 'شارل ديغول', 'ونستون تشرشل'], correct: 1, explanation: 'الدكتور جورج سان بول أسس المنظمة عام 1931' },
        { question: 'أين تأسست أول منظمة للحماية المدنية في العالم؟', options: ['لندن', 'باريس', 'جنيف', 'روما'], correct: 2, explanation: 'تأسست في جنيف عام 1931 تيمناً بمسقط رأس هنري دونان' },
        { question: 'متى دخل دستور المنظمة الدولية للحماية المدنية حيز التنفيذ؟', options: ['1 مارس 1970', '1 مارس 1971', '1 مارس 1972', '1 مارس 1973'], correct: 2, explanation: 'دخل حيز التنفيذ في 1 مارس 1972' },
        
        // أسئلة حول الرتب والتنظيم
        { question: 'ما هي أعلى رتبة في سلك الحماية المدنية؟', options: ['عقيد', 'عميد', 'قائد', 'مدير عام'], correct: 1, explanation: 'أعلى رتبة هي رتبة عميد في فئة الضباط السامين' },
        { question: 'كم عدد فئات الرتب في الحماية المدنية؟', options: ['فئتان', 'ثلاث فئات', 'أربع فئات', 'خمس فئات'], correct: 1, explanation: 'ثلاث فئات: الضباط السامون، الضباط، والرقباء والأعوان' },
        
        // أسئلة حول المعدات والوسائل
        { question: 'أي من هذه المعدات تستخدمها الحماية المدنية؟', options: ['سيارة إسعاف فقط', 'شاحنة إطفاء فقط', 'جميع المذكورة', 'سيارة نجدة فقط'], correct: 2, explanation: 'تستخدم سيارات الإسعاف والإسعاف الطبية وشاحنات الإطفاء والنجدة' },
        
        // أسئلة حول الخدمات المدفوعة
        { question: 'أي من هذه الخدمات تقدمها الحماية المدنية مقابل دفع معاليم؟', options: ['إطفاء الحرائق الطارئة', 'تكوين فرق التدخل بالمنشآت', 'إنقاذ الغرقى', 'حوادث المرور'], correct: 1, explanation: 'تكوين وتدريب فرق التدخل بالمنشآت يتم مقابل معاليم' }
        ]
      },

      'مراجعة': {
        icon: '📝',
        color: '#059669',
        gradient: 'linear-gradient(135deg, #059669, #047857)',
        type: 'mixed',
        questions: [
        // نوع fill-in-blanks (النصوص الموجودة)
        {
          type: 'fill-in-blanks',
          paragraph: 'تأسست النواة الأولى للحماية المدنية في تونس في _____ تحت اسم _____ وصندوق التقاعد لرجال المطافئ المتطوعين. وقد تم إحداث الديوان الوطني للحماية المدنية بموجب القانون عدد _____ لسنة _____.',
          blanks: [
            { id: 0, correctAnswer: '1 نوفمبر 1894' },
            { id: 1, correctAnswer: 'جمعية التعاون للنجدة' },
            { id: 2, correctAnswer: '121' },
            { id: 3, correctAnswer: '1993' }
          ],
          words: [
            '18 أكتوبر 1968',
            '121',
            '1993',
            '1975',
            'جمعية الإنقاذ',
            '1 نوفمبر 1894',
            '122',
             'جمعية التعاون للنجدة', 
          ],
          explanation: 'هذا النص يلخص التواريخ الأساسية في تاريخ الحماية المدنية التونسية'
        },
        {
          type: 'fill-in-blanks',
          paragraph: 'حسب الفصل 3 من أمر عدد 2428 لسنة 1999، الحد الأدنى لسن التطوع في الحماية المدنية هو _____ سنة. يجب على المترشح التمتع بـ _____ وحسن السيرة، بالإضافة إلى اللياقة البدنية و الذهنية والانخراط في _____ المشار إليها بالفصل _____ من هذا الأمر.',
          blanks: [
            { id: 0, correctAnswer: '20' },
            { id: 1, correctAnswer: 'الحقوق المدنية' },
            { id: 2, correctAnswer: 'جمعية من الجمعيات' },
            { id: 3, correctAnswer: 'الأول' }
          ],
          words: [
            '20', 'الحقوق المدنية', '18', '21', 'الحقوق السياسية', 
            'مؤسسة', 'جمعية من الجمعيات', 'الثاني', 'منظمة', 'الأول'
          ],
          explanation: 'هذه هي الشروط الأساسية للتطوع في الحماية المدنية حسب القانون'
        },
        {
          type: 'fill-in-blanks',
          paragraph: 'إن عون الحماية المدنية مطالب بالتدخل لمد _____ لكل من يطلبها في كل _____ و_____. ومن مخاطر إفشاء السر المهني: _____ في إنجاز المهمات، تعرض الأشخاص والممتلكات لأي المخاطر، تعرض للعقوبات _____ والتتبعات العدلية، ومساس بـ_____.',
          blanks: [
            { id: 0, correctAnswer: 'يد المساعدة' },
            { id: 1, correctAnswer: 'الأوقات' },
            { id: 2, correctAnswer: 'الأماكن' },
            { id: 3, correctAnswer: 'فشل' },
            { id: 4, correctAnswer: 'الإدارية' },
            { id: 5, correctAnswer: 'هيبة السلك' }
          ],
          words: [
            'يد المساعدة', 'الأوقات', 'الأماكن', 'فشل', 'الإدارية', 'هيبة السلك',
            'المساعدة الطبية', 'الأوضاع', 'المناطق', 'تأخير', 'القانونية', 'سمعة المؤسسة'
          ],
          explanation: 'هذا النص يوضح مسؤوليات عون الحماية المدنية ومخاطر إفشاء السر المهني'
        },

        // نوع true-false جديد
        {
          type: 'true-false',
          question: 'رقم الطوارئ للحماية المدنية في تونس هو 198',
          correct: true,
          explanation: 'صحيح، رقم 198 هو الرقم المخصص للاتصال بالحماية المدنية في تونس'
        },
         {
          type: 'true-false',
          question: 'رقم الطوارئ للحرس الوطني في تونس هو 197',
          correct: false,
          explanation: 'خطأ، رقم 193 هو الرقم المخصص للاتصال بالحرس الوطني في تونس'
        },
        {
          type: 'true-false',
          question: 'الحد الأدنى لسن التطوع في الحماية المدنية هو 18 سنة',
          correct: false,
          explanation: 'خطأ، الحد الأدنى هو 20 سنة وفقاً للفصل 3'
        },
        {
          type: 'true-false',
          question: 'المحافظة على السر المهني واجب على المتطوعين',
          correct: true,
          explanation: 'صحيح، هذا من الواجبات الأساسية المنصوص عليها في الفصل 9'
        },
        {
          type: 'true-false',
          question: 'جميع خدمات الحماية المدنية مجانية',
          correct: false,
          explanation: 'خطأ، بعض الخدمات الخاصة غير الاستعجالية تقدم مقابل معاليم'
        },
        {
          type: 'true-false',
          question: 'أسس الطبيب جورج سان بول المنظمة الدولية للحماية المدنية',
          correct: true,
          explanation: 'صحيح، أسس جمعية مشارف جنيف عام 1931 التي انبثقت منها المنظمة'
        },
        {
          type: 'true-false',
          question: 'رقم الطوارئ لشرطة النجدة في تونس هو 197',
          correct: true,
          explanation: 'صحيح، رقم 197 هو الرقم المخصص للاتصال بلشرطة النجدة في تونس'
        },
        // نوع drag-drop-timeline جديد
        {
          type: 'drag-drop-timeline',
          question: 'رتب الأحداث التالية حسب التسلسل الزمني للحماية المدنية في تونس:',
          items: [
            { id: 1, text: 'تأسيس النواة الأولى للحماية المدنية', date: '1894', order: 1 },
            { id: 2, text: 'تحول التنظيم إلى انتداب فعلي', date: '1920', order: 2 },
            { id: 3, text: 'بعث هيئة رجال المطافئ المهنيين الأربعة', date: '1949', order: 3 },
            { id: 4, text: 'إحداث مصلحة قومية للوقاية المدنية', date: '1968', order: 4 },
            { id: 5, text: 'إحداث الديوان الوطني للحماية المدنية', date: '1993', order: 5 }
          ],
          explanation: 'هذا هو التسلسل الصحيح لتطور الحماية المدنية في تونس'
        },
        {
          type: 'drag-drop-timeline',
          question: 'رتب الأحداث التالية في تاريخ المنظمة الدولية للحماية المدنية:',
          items: [
            { id: 1, text: 'تأسيس جمعية مشارف جنيف', date: '1931', order: 1 },
            { id: 2, text: 'إصدار اتفاقية رابعة لحماية المدنيين', date: '1949', order: 2 },
            { id: 3, text: 'تحول إلى منظمة غير حكومية', date: '1958', order: 3 },
            { id: 4, text: 'اعتماد دستور المنظمة', date: '1966', order: 4 },
            { id: 5, text: 'دخول الدستور حيز التنفيذ', date: '1972', order: 5 }
          ],
          explanation: 'تطور المنظمة الدولية للحماية المدنية عبر عقود'
        },

        // نوع match-arrows جديد
        {
          type: 'match-arrows',
          question: 'اربط كل رتبة بفئتها الصحيحة:',
          leftColumn: [
            { id: 1, text: 'عميد' },
            { id: 2, text: 'مالزم' },
            { id: 3, text: 'رقيب أول' },
            { id: 4, text: 'عقيد' }
          ],
          rightColumn: [
            { id: 'a', text: 'ضباط سامون' },
            { id: 'b', text: 'ضباط' },
            { id: 'c', text: 'رقباء وأعوان' },
          ],
          correctMatches: [
            { left: 1, right: 'a' },
            { left: 2, right: 'b' },
            { left: 3, right: 'c' },
            { left: 4, right: 'a' }
          ],
          explanation: 'تصنيف الرتب حسب النظام الهيكلي للحماية المدنية'
        },
        {
          type: 'match-arrows',
          question: 'اربط كل تاريخ بالحدث المناسب:',
          leftColumn: [
            { id: 1, text: '1894' },
            { id: 2, text: '1949' },
            { id: 3, text: '1968' },
            { id: 4, text: '1993' }
          ],
          rightColumn: [
            { id: 'a', text: 'تأسيس النواة الأولى' },
            { id: 'b', text: 'بعث هيئة المطافئ المهنيين' },
            { id: 'c', text: 'إحداث مصلحة قومية' },
            { id: 'd', text: 'إحداث الديوان الوطني' }
          ],
          correctMatches: [
            { left: 1, right: 'a' },
            { left: 2, right: 'b' },
            { left: 3, right: 'c' },
            { left: 4, right: 'd' }
          ],
          explanation: 'التواريخ المهمة في تطور الحماية المدنية التونسية'
        },

        // نوع multiple-checkbox جديد
        {
          type: 'multiple-checkbox',
          question: 'اختر جميع المهام التي تقوم بها الحماية المدنية:',
          options: [
            { id: 1, text: 'دراسة القواعد الأمنية ضد الحرائق', correct: true },
            { id: 2, text: 'الوقاية من الأخطار الصناعية', correct: true },
            { id: 3, text: 'جمع الضرائب', correct: false },
            { id: 4, text: 'مكافحة حرائق الغابات', correct: true },
            { id: 5, text: 'إدارة المدارس', correct: false },
            { id: 6, text: 'حماية الشواطئ', correct: true },
            { id: 7, text: 'الأمن الحضري', correct: true },
            { id: 8, text: 'بيع التذاكر', correct: false }
          ],
          explanation: 'هذه هي المهام الرسمية للحماية المدنية كما نص عليها القانون'
        },
        {
          type: 'multiple-checkbox',
          question: 'اختر الوثائق المطلوبة للترشح للتطوع:',
          options: [
            { id: 1, text: 'مطلب ترشح محرر على ورق عادي', correct: true },
            { id: 2, text: 'بطاقة إرشادات', correct: true },
            { id: 3, text: 'رخصة قيادة', correct: false },
            { id: 4, text: 'بطاقة السوابق العدلية', correct: true },
            { id: 5, text: 'نسخة من بطاقة التعريف', correct: true },
            { id: 6, text: 'شهادة الباكالوريا', correct: false },
            { id: 7, text: 'الشهادات العلمية', correct: true },
            { id: 8, text: 'شهادة طبية', correct: true }
          ],
          explanation: 'هذه الوثائق مطلوبة حسب الفصل 4 من الأمر'
        },
        {
          type: 'multiple-checkbox',
          question: 'اختر واجبات المتطوع في الحماية المدنية:',
          options: [
            { id: 1, text: 'المحافظة على السر المهني', correct: true },
            { id: 2, text: 'القيام بالخدمات الموكولة', correct: true },
            { id: 3, text: 'نشر المعلومات للإعلام', correct: false },
            { id: 4, text: 'تنفيذ تعليمات الرؤساء', correct: true },
            { id: 5, text: 'انتقاد القيادة علنا', correct: false },
            { id: 6, text: 'المحافظة على لياقة المظهر', correct: true }
          ],
          explanation: 'هذه الواجبات منصوص عليها في الفصل 9'
        },

        // نوع reorder جديد
        {
          type: 'reorder',
          question: 'رتب الرتب التالية من الأعلى إلى الأسفل:',
          items: [
            { id: 1, text: 'عميد', order: 1 },
            { id: 2, text: 'رائد', order: 4 },
            { id: 3, text: 'مقدم', order: 3 },
            { id: 4, text: 'عقيد', order: 2 },
            { id: 5, text: 'نقيب', order: 5 }
          ],
          explanation: 'ترتيب الرتب من الأعلى للأسفل في فئة الضباط السامين والضباط'
        },
        {
          type: 'reorder',
          question: 'رتب مراحل التطوع بالترتيب الصحيح:',
          items: [
            { id: 1, text: 'تقديم الملف الشخصي', order: 1 },
            { id: 2, text: 'فرز المطالب', order: 2 },
            { id: 3, text: 'اجتياز الاختبار النفسي الفني', order: 3 },
            { id: 4, text: 'فترة التكوين الأساسي والعام', order: 4 },
            { id: 5, text: 'اجتياز الامتحان النهائي', order: 5 },
            { id: 6, text: 'الحصول على شهادة الكفاءة', order: 6 }
          ],
          explanation: 'هذه هي المراحل المتتالية للتطوع كما نص عليها القانون'
        },
        {
          type: 'reorder',
          question: 'رتب مراحل تطور الحماية المدنية زمنياً:',
          items: [
            { id: 1, text: 'جمعية التعاون للنجدة (1894)', order: 1 },
            { id: 2, text: 'انتداب فعلي (1920)', order: 2 },
            { id: 3, text: 'مصلحة قومية (1968)', order: 3 },
            { id: 4, text: 'وكالة إدارية (1978)', order: 4 },
            { id: 5, text: 'الديوان الوطني (1993)', order: 5 }
          ],
          explanation: 'التطور التاريخي للحماية المدنية التونسية عبر القرون'
        }
      ]
      },

      'مهام ومشمولات': {
        icon: '🚑', 
        color: '#2563eb', 
        gradient: 'linear-gradient(135deg, #2563eb, #1d4ed8)',
        type: 'qcm',
        questions: [
        { question: 'ما هي المهام الأساسية للحماية المدنية؟', options: ['دراسة القواعد الأمنية، الوقاية من الأخطار، مكافحة الحرائق، حماية الشواطئ، الأمن الحضري، الحوادث المنزلية، حوادث الطرقات، الإعلام والتحسيس', 'التعليم والتدريس', 'جمع الضرائب والرسوم', 'إدارة المستشفيات'], correct: 0, explanation: 'المهام تشمل: دراسة القواعد الأمنية ضد الحرائق، الوقاية من الأخطار الصناعية والتكنولوجية، مكافحة حرائق الغابات، حماية الشواطئ، الأمن الحضري، الحوادث المنزلية، حوادث الطرقات والسكك الحديدية، الإعلام والتحسيس، تنفيذ وتنسيق مخططات الإسعاف' },
         { question: 'متى يتدخل عون الحماية المدنية؟', options: ['في أوقات محددة فقط', 'في كل الأوقات والأماكن', 'في النهار فقط', 'عند الطلب المسبق'], correct: 1, explanation: 'عون الحماية المدنية مطالب بالتدخل في كل الأوقات والأماكن' },
                  { question: 'أي من هذه ليس من مهام الحماية المدنية؟', options: ['إطفاء الحرائق', 'الإسعاف الطبي', 'حفظ الأمن العام', 'إنقاذ الغرقى'], correct: 2, explanation: 'حفظ الأمن العام من مهام الأمن الداخلي وليس الحماية المدنية' },

                  // سؤال مفصل حول دراسة القواعد الأمنية
                  { question: 'ما المقصود بدراسة القواعد والإجراءات الأمنية في مجال الحماية المدنية؟', options: ['دراسة القواعد المطبقة ضد أخطار الحريق والفزع في المؤسسات الصناعية والمستقبلة للجمهور ومراقبة تنفيذها', 'وضع قوانين البناء', 'تنظيم المرور', 'إدارة الأزمات الاقتصادية'], correct: 0, explanation: 'تشمل دراسة ومراقبة تنفيذ القواعد الأمنية المطبقة ضد الحرائق والفزع في مختلف المؤسسات' },

                  // سؤال حول الوقاية من الأخطار الصناعية
                  { question: 'من مهام الحماية المدنية في مجال الصناعة:', options: ['الوقاية من الأخطار الصناعية والتكنولوجية الكبرى', 'إدارة المصانع', 'تسويق المنتجات', 'تدريب العمال'], correct: 0, explanation: 'الوقاية من الأخطار الصناعية والتكنولوجية الكبرى مهمة أساسية للحماية المدنية' },

                  // سؤال حول مكافحة حرائق الغابات
                  { question: 'تتولى الحماية المدنية مكافحة:', options: ['حرائق الغابات والمحاصيل الزراعية', 'الآفات الزراعية', 'التلوث البحري', 'الجريمة المنظمة'], correct: 0, explanation: 'مكافحة حرائق الغابات والمحاصيل الزراعية من المهام الأساسية' },

                  // سؤال حول حماية الشواطئ
                  { question: 'في مجال السياحة، تقوم الحماية المدنية بـ:', options: ['حماية الشواطئ ومناطق الاستجمام', 'تنظيم الرحلات السياحية', 'إدارة الفنادق', 'تسويق السياحة'], correct: 0, explanation: 'حماية الشواطئ ومناطق الاستجمام من مسؤوليات الحماية المدنية' },

                  // سؤال حول الأمن الحضري
                  { question: 'ما المقصود بالأمن الحضري في مهام الحماية المدنية؟', options: ['حماية المدن من مختلف الحوادث (حرائق، انفجارات، فيضانات)', 'تنظيم حركة المرور', 'مكافحة الجريمة', 'تنظيف الشوارع'], correct: 0, explanation: 'الأمن الحضري يشمل حماية المدن من الحرائق والانفجارات والفيضانات وغيرها' },

                  // سؤال حول الحوادث المنزلية
                  { question: 'تتدخل الحماية المدنية في:', options: ['الحوادث المنزلية بجميع أنواعها', 'النزاعات العائلية', 'مشاكل الكهرباء', 'إصلاح الأجهزة'], correct: 0, explanation: 'التدخل في الحوادث المنزلية بجميع أنواعها من مهام الحماية المدنية' },

                  // سؤال حول حوادث النقل
                  { question: 'في مجال النقل، تتدخل الحماية المدنية في:', options: ['حوادث الطرقات والسكك الحديدية', 'تنظيم المرور', 'صيانة الطرق', 'فحص المركبات'], correct: 0, explanation: 'التدخل في حوادث الطرقات والسكك الحديدية من المهام الأساسية' },

                  // سؤال حول الإعلام والتحسيس
                  { question: 'في مجال التوعية، تقوم الحماية المدنية بـ:', options: ['الإعلام والتحسيس لمختلف أنواع الحوادث', 'نشر الأخبار العامة', 'إدارة وسائل الإعلام', 'التدريس في المدارس'], correct: 0, explanation: 'الإعلام والتحسيس لمختلف أنواع الحوادث مهمة توعوية مهمة' },

                  // سؤال حول مخططات الإسعاف
                  { question: 'في حالة الكوارث الكبرى، تقوم الحماية المدنية بـ:', options: ['تنفيذ وتنسيق مخططات الإسعاف', 'إعداد الميزانيات', 'توزيع المساعدات المالية', 'تنظيم الانتخابات'], correct: 0, explanation: 'تنفيذ وتنسيق مخططات الإسعاف في حالة الكوارث الكبرى مهمة حيوية' },
                  { question: 'أي من هذه الخدمات تقدمها الحماية المدنية مجاناً؟', options: ['التدخل في الكوارث الطبيعية', 'تكوين فرق التدخل بالمنشآت', 'ضخ المياه من المحلات', 'الحضور الوقائي بالتظاهرات'], correct: 0, explanation: 'التدخل في الكوارث الطبيعية والحرائق وحوادث المرور مجاني' },
                  
                  { question: 'ما هو الفصل القانوني الذي يحدد مهام الحماية المدنية؟', options: ['الفصل الأول', 'الفصل الثاني', 'الفصل الثالث', 'الفصل الرابع'], correct: 1, explanation: 'الفصل الثاني من القانون عدد 121-93 يحدد المهام' },
                  
                  { question: 'تتدخل الحماية المدنية في حماية:', options: ['الأرواح فقط', 'الممتلكات فقط', 'الأرواح والممتلكات والبيئة', 'المؤسسات الحكومية فقط'], correct: 2, explanation: 'تحمي الأرواح والممتلكات والأمالك الوطنية والبيئة والمحيط' },

                  // أسئلة حول المخططات والوقاية
                  { question: 'من مهام الحماية المدنية المساهمة في إعداد:', options: ['الميزانية العامة', 'المخططات الوطنية لتفادي الكوارث', 'القوانين الجنائية', 'المناهج التعليمية'], correct: 1, explanation: 'المساهمة في إعداد وتحيين المخطط الوطني والجهوي لتفادي الكوارث' },
                  
                  { question: 'تقوم الحماية المدنية بتنفيذ سياسة الدولة في مجال:', options: ['التعليم العالي', 'الحماية المدنية', 'الشؤون الخارجية', 'العدالة'], correct: 1, explanation: 'المساهمة في تنفيذ سياسة الدولة في ميدان الحماية المدنية' },

                  // أسئلة حول التحسيس والتوعية
                  { question: 'من مهام الحماية المدنية في مجال التوعية:', options: ['تنظيم الانتخابات', 'تحسيس المواطنين للوقاية والحماية', 'إدارة المدارس', 'تنظيم المرور'], correct: 1, explanation: 'المساهمة في برامج تحسيس المواطنين للوقاية والحماية المدنية' },

                  // أسئلة حول التعاون الدولي  
                  { question: 'هل يمكن للحماية المدنية تقديم المساعدة بالخارج؟', options: ['لا، مستحيل', 'نعم، بموافقة وزارة الإشراف', 'نعم، دون قيود', 'فقط للدول العربية'], correct: 1, explanation: 'يمكن تقديم المساعدة الفنية بالخارج بعد موافقة وزارة الإشراف' },

                  // أسئلة حول الخدمات المدفوعة
                  { question: 'أي من هذه الخدمات تتطلب دفع معاليم؟', options: ['إطفاء حريق منزل', 'تكوين فرق التدخل بالمصانع', 'إنقاذ مصاب في حادث', 'إخلاء ضحايا فيضان'], correct: 1, explanation: 'تكوين وتدريب فرق التدخل بالمنشآت الاقتصادية يتطلب دفع معاليم' },
                  
                  { question: 'ضخ المياه من المحلات يكون مدفوع الأجر عندما:', options: ['يكون بسبب فيضان كارثي', 'لا يكون ناجماً عن كارثة', 'يكون في المنازل', 'يكون ليلاً'], correct: 1, explanation: 'ضخ المياه غير الناجمة عن الفيضانات الكارثية يتطلب دفع معاليم' },
                  
                  { question: 'الحضور الوقائي بالتظاهرات الرياضية:', options: ['مجاني دائماً', 'مدفوع الأجر', 'حسب نوع التظاهرة', 'فقط للمباريات الدولية'], correct: 1, explanation: 'الحضور الوقائي بالتظاهرات الثقافية والرياضية يتطلب دفع معاليم' },

                  // أسئلة حول تدخلات الغواصين
                  { question: 'متى تكون تدخلات الغواصين مدفوعة الأجر؟', options: ['في جميع الحالات', 'في مهام غير الإنقاذ', 'في البحث عن الغرقى', 'في حالات الطوارئ فقط'], correct: 1, explanation: 'تدخلات الغواصين في مهام غير الإنقاذ وغير البحث عن الغرقى مدفوعة' },

                  // أسئلة حول إخراج العربات
                  { question: 'إخراج العربات من الوحل يكون:', options: ['مجاني دائماً', 'مدفوع للعربات الخاصة', 'مجاني للحكومة فقط', 'حسب الوقت'], correct: 1, explanation: 'إخراج العربات التابعة للخواص من الوحل يتطلب دفع معاليم' },

                  // أسئلة حول إطفاء النيران المتعمدة
                  { question: 'إطفاء النيران المضرمة إرادياً لحرق بقايا الزراعات:', options: ['مجاني', 'مدفوع الأجر', 'ممنوع', 'فقط في الصيف'], correct: 1, explanation: 'إطفاء النيران المضرمة إرادياً لحرق بقايا الزراعات والمراعي مدفوع الأجر' },

                  // أسئلة حول تزويد المؤسسات بالماء
                  { question: 'متى يكون تزويد المؤسسات بالماء مدفوع الأجر؟', options: ['دائماً', 'عند عدم وجود كارثة', 'في الليل فقط', 'للمؤسسات الخاصة فقط'], correct: 1, explanation: 'التزويد بالماء مدفوع عندما لا تكون الحاجة ناتجة عن كارثة' },

                  // أسئلة حول الأفلام والتصوير
                  { question: 'هل تشارك الحماية المدنية في تصوير الأفلام؟', options: ['لا، ممنوع', 'نعم، مقابل أجر', 'مجاناً فقط', 'للأفلام الوطنية فقط'], correct: 1, explanation: 'تصوير الأشرطة السينمائية والتلفزية من الخدمات المدفوعة' },

                  // أسئلة حول السر المهني
                  { question: 'ما هو خطر إفشاء السر المهني لعون الحماية المدنية؟', options: ['لا يوجد خطر', 'تعرض للعقوبات الإدارية والقضائية', 'تنبيه شفهي فقط', 'خصم من الراتب'], correct: 1, explanation: 'إفشاء السر المهني يؤدي للعقوبات الإدارية والتتبعات العدلية' },

                  // أسئلة حول طبيعة الديوان
                  { question: 'الديوان الوطني للحماية المدنية هو مؤسسة:', options: ['خاصة', 'عمومية لا تكتسي صبغة إدارية', 'إدارية محضة', 'مختلطة'], correct: 1, explanation: 'مؤسسة عمومية لا تكتسي صبغة إدارية تتمتع بالشخصية المدنية' }
                ]
      },

      'رتب عسكرية': {
        icon: '🎖️', 
        color: '#ca8a04', 
        gradient: 'linear-gradient(135deg, #ca8a04, #a16207)',
        type: 'qcm',
        questions: 
                [
                  { question: 'ما هي أعلى رتبة في الحماية المدنية؟', options: ['عقيد', 'عميد', 'مقدم', 'رائد'], correct: 1, explanation: 'العميد هو أعلى رتبة في الحماية المدنية' },
                  { question: 'أي من هذه الرتب تأتي قبل الرتبة التي بالصورة؟',image: '/images/na9ib.webp', options: [' ملازم أول', 'رائد', 'مقدم', 'عقيد'], correct: 0, explanation: 'المالزم يأتي قبل النقيب في التسلسل الهرمي' },
                  { question: 'من صنف الرقباء والأعوان:', options: ['نقيب', 'وكيل', 'ملازم', 'رائد'], correct: 1, explanation: 'الوكيل من صنف الرقباء والأعوان وليس من الضباط' },
                  { question: 'لماذا وردت رتبة النقيب قبل الرائد؟', options: ['خطأ في الترتيب', 'هكذا وردت في الرتب العسكرية', 'النقيب أعلى من الرائد', 'لا يوجد سبب محدد'], correct: 1, explanation: 'هكذا وردت في الرتب العسكرية حسب التسلسل الرسمي' },
                  { question: 'ما هي الرتبة التي تلي رتبة وكيل أول؟', options: ['رائد', 'نقيب','وكيل أعلى أو ملازم', 'عريف'], correct: 2, explanation: 'في الرتب العسكرية تأتي وكيل أعلى، وفي الحماية المدنية تأتي ملازم' },
                  { question: 'كم عدد الرتب العسكرية؟', options: ['15 رتبة', '17 رتبة', '19 رتبة', '21 رتبة'], correct: 2, explanation: 'عدد الرتب العسكرية 19 رتبة بينما في الحماية المدنية 13 رتبة' },
                  { question: 'أكمل رتب الحماية المدنية الناقصة: وكيل، وكيل أول، ...، ملازم، ...، نقيب', options: ['وكيل أعلى، ملازم أول', 'عريف، ملازم أول', 'رقيب، عريف', 'مساعد، رقيب'], correct: 5, explanation: 'الترتيب الصحيح: وكيل، وكيل أول، ملازم، ملازم أول، نقيب (لا يوجد رتبة وكيل اعلى في الحماية المدنية )' },
                  { question: 'اذكر رتب الأعوان بالترتيب:', options: ['ملازم، ملازم أول، نقيب', 'نقيب، ملازم، ملازم أول', 'ملازم أول، ملازم، نقيب', 'رائد، نقيب، ملازم'], correct: 0, explanation: 'رتب الأعوان بالترتيب هي: ملازم، ملازم أول، نقيب' },
                  { question: 'اذكر رتب الضباط السامين بالترتيب:', options: ['عقيد، رائد، مقدم، عميد', 'رائد، مقدم، عقيد، عميد', 'عميد، عقيد، مقدم، رائد', 'مقدم، رائد، عميد، عقيد'], correct: 1, explanation: 'رتب الضباط السامين بالترتيب هي: رائد، مقدم، عقيد، عميد' }
                ]
      },

      'حقوق وواجبات': {
        icon: '⚖️', 
        color: '#16a34a', 
        gradient: 'linear-gradient(135deg, #16a34a, #15803d)',
        type: 'qcm',
        questions: [
          { 
            question: 'من واجبات المتطوع:', 
            options: ['المحافظة على السر المهني', 'نشر المعلومات', 'انتقاد الرؤساء', 'العمل متى شاء'], 
            correct: 0, 
            explanation: 'المحافظة على السر المهني واجب أساسي' 
          },
          { 
            question: 'ما هو الحد الأدنى لسن المتطوع؟', 
            options: ['18 سنة', '20 سنة', '21 سنة', '25 سنة'], 
            correct: 1, 
            explanation: 'الحد الأدنى هو 20 سنة وفق الفصل 3' 
          },
          { 
            question: 'من حقوق المتطوع:', 
            options: ['التأمين على الحوادث', 'راتب شهري', 'سيارة خاصة', 'إجازة مدفوعة'], 
            correct: 0, 
            explanation: 'التأمين على الحوادث حق مضمون للمتطوعين' 
          }
        ]
      },

      'أحداث من التاريخ': {
        icon: '📚', 
        color: '#9333ea', 
        gradient: 'linear-gradient(135deg, #9333ea, #7c3aed)',
        type: 'qcm',
        questions: 
                [
                  { 
                    question: 'متى تأسست النواة الأولى للحماية المدنية في تونس؟', 
                    options: ['1 نوفمبر 1894', '3 مارس 1949', '18 أكتوبر 1968', '27 ديسمبر 1993'], 
                    correct: 0, 
                    explanation: 'تأسست النواة الأولى للحماية المدنية في تونس في 1 نوفمبر 1894 تحت اسم جمعية التعاون للنجدة وصندوق التقاعد لرجال المطافئ المتطوعين' 
                  },
                  { 
                    question: 'ماذا حدث في لندن سنة 1666؟', 
                    options: ['زلزال كبير', 'حريق عظيم', 'فيضان', 'وباء'], 
                    correct: 1, 
                    explanation: 'حريق لندن العظيم سنة 1666 كان من الحرائق التاريخية المسجلة في العالم والتي أثرت على تطوير مفهوم الحماية المدنية' 
                  },
                  { 
                    question: 'متى تم إحداث الديوان الوطني للحماية المدنية؟', 
                    options: ['1993', '1991', '1975', '1980'], 
                    correct: 0, 
                    explanation: 'صدر القانون عدد 121 لسنة 1993 في 27 ديسمبر 1993 لإحداث الديوان الوطني للحماية المدنية' 
                  },
                  { 
                    question: 'من أسس المنظمة الدولية للحماية المدنية؟', 
                    options: ['هنري دونان', 'جورج سان بول', 'نابليون', 'شارل ديغول'], 
                    correct: 1, 
                    explanation: 'الطبيب الفرنسي جورج سان بول أسس جمعية مشارف جنيف سنة 1931 والتي انبثقت منها المنظمة الدولية للحماية المدنية' 
                  },
                  { 
                    question: 'متى دخل دستور المنظمة الدولية للحماية المدنية حيز التنفيذ؟', 
                    options: ['1958', '1966', '1972', '1949'], 
                    correct: 2, 
                    explanation: 'في فاتح مارس 1972 دخل دستور المنظمة الدولية للحماية المدنية حيز التنفيذ بعد مصادقة 18 دولة عضو' 
                  },
                  { 
                    question: 'ما هو أول مقياس للحماية المدنية في التاريخ؟', 
                    options: ['حريق لندن', 'الإمبراطورية الرومانية', 'الحرب العالمية الأولى', 'حريق سان فرانسيسكو'], 
                    correct: 1, 
                    explanation: 'أول مقاييس للحماية المدنية في العالم كانت في ظل الإمبراطورية الرومانية بعد حريق روما الشهير' 
                  },
                  { 
                    question: 'متى تم إحداث مصلحة قومية للوقاية المدنية؟', 
                    options: ['18 أكتوبر 1968', '4 مارس 1975', '20 مارس 1975', '28 ديسمبر 1978'], 
                    correct: 0, 
                    explanation: 'في 18 أكتوبر 1968، تم إحداث مصلحة قومية للوقاية المدنية وتم بعث مكاتب جهوية' 
                  },
                  { 
                    question: 'متى أصبحت الحماية المدنية وكالة إدارية ذات صبغة مدنية واستقلالية مالية؟', 
                    options: ['1975', '1978', '1980', '1991'], 
                    correct: 1, 
                    explanation: 'في 28 ديسمبر 1978 أصبحت وكالة إدارية ذات صبغة مدنية واستقلالية مالية' 
                  }
                ]
      },

      'التطوع': {
        icon: '🤝', 
        color: '#4f46e5', 
        gradient: 'linear-gradient(135deg, #4f46e5, #4338ca)',
        type: 'qcm',
        questions: [
        { 
          question: 'الفصل الأول من الأمر عدد 2428 - في أي إطار يباشر العمل التطوعي؟', 
          options: ['إطار فردي', 'إطار الجمعيات الخيرية والإسعافية والاجتماعية', 'إطار حكومي', 'إطار تجاري'], 
          correct: 1, 
          explanation: 'الفصل الأول ينص على أن العمل التطوعي يباشر في إطار الجمعيات الخيرية والإسعافية والاجتماعية' 
        },
        { 
          question: 'الفصل 2 من الأمر عدد 2428 - من يتولى الإشراف على تنظيم العمل التطوعي؟', 
          options: ['وزارة الداخلية', 'الديوان الوطني للحماية المدنية', 'الجمعيات', 'الولايات'], 
          correct: 1, 
          explanation: 'الفصل 2 ينص على أن الديوان الوطني للحماية المدنية يتولى الإشراف على تنظيم العمل التطوعي' 
        },
        { 
          question: 'الفصل 3 من الأمر عدد 2428 - ما هي الشروط المطلوبة للترشح للتطوع؟', 
          options: ['العمر فقط', 'العمر والحقوق المدنية واللياقة البدنية والانخراط في جمعية', 'الشهادة العلمية فقط', 'الخبرة المهنية'], 
          correct: 1, 
          explanation: 'الفصل 3 يحدد شروط الترشح: العمر 20 سنة، التمتع بالحقوق المدنية وحسن السيرة، اللياقة البدنية، والانخراط في جمعية' 
        },
        { 
          question: 'الفصل 5 من الأمر عدد 2428 - من يقوم بفرز مطالب الترشح؟', 
          options: ['الجمعيات', 'المصالح المختصة للديوان الوطني للحماية المدنية', 'وزارة الداخلية', 'الولايات'], 
          correct: 1, 
          explanation: 'الفصل 5 ينص على أن فرز مطالب الترشح يقع من طرف المصالح المختصة للديوان الوطني للحماية المدنية' 
        },
        { 
          question: 'الفصل 7 من الأمر عدد 2428 - ماذا يجتاز المترشحون في المرحلة الأولى؟', 
          options: ['امتحان كتابي', 'اختبار نفساني فني', 'مقابلة شخصية', 'اختبار رياضي'], 
          correct: 1, 
          explanation: 'الفصل 7 ينص على أن المترشحين يجتازون في مرحلة أولى اختبارا نفسانيا فنيا ثم فترة تكوين أساسي وعام' 
        },
        { 
          question: 'الفصل 8 من الأمر عدد 2428 - ما هي شهادة المتطوع الناجح؟', 
          options: ['شهادة مشاركة', 'شهادة كفاءة في العمل التطوعي', 'شهادة خبرة', 'شهادة تقدير'], 
          correct: 1, 
          explanation: 'الفصل 8 ينص على تسليم شهادة كفاءة في العمل التطوعي للناجحين في الامتحان بعد التكوين' 
        },
        { 
          question: 'الفصل 11 من الأمر عدد 2428 - من يسلم التجهيزات للمتطوع؟', 
          options: ['الديوان الوطني', 'الجمعيات المنخرط بها المتطوع', 'وزارة الداخلية', 'المتطوع يشتريها بنفسه'], 
          correct: 1, 
          explanation: 'الفصل 11 ينص على أن الجمعيات المنخرط بها المتطوع تسلم التجهيزات الضرورية للمشاركة في عمليات الإنقاذ' 
        },
        { 
          question: 'الفصل 12 من الأمر عدد 2428 - من يمكنه تحمل أجرة ساعات تغيب المتطوع؟', 
          options: ['الحكومة', 'الجمعية', 'المؤسسات المشغلة للمتطوعين', 'المتطوع نفسه'], 
          correct: 2, 
          explanation: 'الفصل 12 ينص على أن المؤسسات المشغلة للمتطوعين يمكنها تحمل أجرة ساعات تغيبهم بسبب العمل التطوعي' 
        },
        { 
          question: 'القانون عدد 121 لسنة 1993 - متى صدر هذا القانون؟', 
          options: ['27 نوفمبر 1993', '27 ديسمبر 1993', '27 يناير 1993', '27 فبراير 1993'], 
          correct: 1, 
          explanation: 'القانون عدد 121 لسنة 1993 المتعلق بإحداث الديوان الوطني للحماية المدنية صدر في 27 ديسمبر 1993' 
        },
        { 
          question: 'القانون عدد 39 لسنة 1991 - ما علاقته بالحماية المدنية؟', 
          options: ['ينظم الرتب', 'يحدد تعريف الكارثة', 'ينظم التطوع', 'يحدد الميزانية'], 
          correct: 1, 
          explanation: 'القانون عدد 39 لسنة 1991 المؤرخ في 08 جوان 1991 يحدد مفهوم الكارثة المشار إليه في مهام الحماية المدنية' 
        }
      ]
      }
    }
  },

  'الإطفاء': {
    id: 'fire',
    icon: '🔥',
    color: '#dc2626',
    gradient: 'linear-gradient(135deg, #dc2626, #b91c1c)',
    order: 2,
    description: 'طرق إخماد النّار',
    requirements: {
      previousDomain: 'military',
      minCompletionPercentage: 80
    },
    categories: {
      'مراجعة الامتحان': {
        icon: '📝',
        color: '#8b5cf6',
        gradient: 'linear-gradient(135deg, #8b5cf6, #7c3aed)',
        type: 'mixed',
      questions: [
    {
  type: 'match-arrows',
  question: 'أذكر أقسام النار - اربط كل قسم بنوع المواد المناسبة:',
  leftColumn: [
    { id: 1, text: 'القسم A' },
    { id: 2, text: 'القسم B' },
    { id: 3, text: 'القسم C' },
    { id: 4, text: 'القسم D' }
  ],
  rightColumn: [
     { id: 'c', text: 'نار الكهرباء و الغاز : التجهيزات الكهربائية تحت التوتر' },
    { id: 'a', text: 'النار الصلبة : (خشب، ورق، قماش)' },
    { id: 'd', text: 'نار المعادن : (حديد, ألمنيوم)' },
    { id: 'b', text: 'النّار السّائلة : السوائل والغازات القابلة للاشتعال' }
   
    
  ],
  correctMatches: [
    { left: 1, right: 'a' },
    { left: 2, right: 'b' },
    { left: 3, right: 'c' },
    { left: 4, right: 'd' }
  ],
  explanation: 'تصنيف الحرائق الدولي يقسم النار إلى أربعة أقسام رئيسية حسب نوع المادة المحترقة'
},
    
    {
      type: 'multiple-checkbox',
      question: 'أذكر المبادئ العامة لإخماد النّيران:',
      options: [
        { id: 1, text: 'قطع مصدر الأكسجين', correct: false },
        { id: 2, text: 'الإستطلاع ', correct: true },
        { id: 3, text: 'عزل المادة القابلة للاشتعال', correct: false },
        { id: 4, text: 'الإنقاذ', correct: true },
        { id: 5, text: 'زيادة درجة الحرارة', correct: false },
        { id: 6, text: 'تكوين شبكة إطفاء', correct: true },
        { id: 7, text: 'إضافة الوقود', correct: false },
        { id: 8, text: 'الهجوم', correct: true },
        { id: 9, text: 'الحماية ،الرّفش و التّبريد،الحراسة', correct: true },
      ],
      explanation: 'المبادئ العامة لإخماد النّيران : MGO '
    },

    {
      type: 'reorder',
      question: 'رتّب قطع الربط :',
      items: [
        { id: 1, text: 'ربط سريع للإنقاذ الفوري', order: 1 },
        { id: 2, text: 'ربط متوسط للحماية', order: 2 },
        { id: 3, text: 'ربط بطيء للأمان', order: 3 }
      ],
      explanation: 'ترتيب قطع الربط حسب السرعة والأولوية في عملية الإطفاء'
    },

    {
      type: 'multiple-checkbox',
      question: 'عدّد التّوابع المائية:',
      options: [
        { id: 1, text: 'pince', correct: true },
        { id: 2, text: 'الخانق', correct: true },
        { id: 3, text: '(Réducteur) مخفّض', correct: false },
        { id: 4, text: 'عوّامة (Flottante)', correct: true },
        { id: 5, text: ' (crépie)', correct: true },
        { id: 6, text: 'خراطيم (Tuyaux)', correct: false },
        { id: 7, text: ' (Clè tricoise)', correct: true },
        { id: 8, text: ' (Clè de barrage)', correct: true },
        { id: 9, text: 'الفأس (Hache)', correct: true },
        { id: 10, text: 'المجرفة (Pelle)', correct: true },
      ],
    },
{
      type: 'multiple-checkbox',
      question: 'عدّد الرّوابط المائية:',
      options: [
        { id: 1, text: 'pince', correct: false },
        { id: 2, text: 'الخانق', correct: false },
        { id: 3, text: '(Réducteur) مخفّض', correct: true },
        { id: 4, text: 'عوّامة (Flottante)', correct: false },
        { id: 5, text: ' (crépie)', correct: false },
        { id: 6, text: 'خراطيم (Tuyaux)', correct: true },
        { id: 7, text: ' (Clè tricoise)', correct: false },
        { id: 8, text: ' (Clè de barrage)', correct: false },
        { id: 9, text: 'مجمّع (Collecteur)', correct: true },
        {id:10, text: 'موزّع (Diviseur)', correct:true},
        {id:11, text: ' (Vane)', correct:true},
        {id:12, text: 'مرفق التموين', correct:true},
        {id:13, text: '(Injecteur à mousse)', correct:true},

      ],
    },
    {
      type: 'fill-in-blanks',
      question: 'أكمل الجملة حول أنواع قوارير الإطفاء:',
      paragraph: 'ما هي أنواع قوارير الإطفاء: قارورة _____, قارورة _____, قارورة _____, قارورة _____',
      blanks: [
        { id: 0, correctAnswer: 'الماء الرذاذي' },
        { id: 1, correctAnswer: 'المسحوق الجاف' },
        { id: 2, correctAnswer: 'ثاني أكسيد الكربون' },
        { id: 3, correctAnswer: 'الرغوة' },
      ],
      words: ['الماء الرذاذي', 'المسحوق الجاف', 'ثاني أكسيد الكربون', 'الرغوة', 'الهالون', 'الرمل'],
      explanation: 'الأنواع الرئيسية لقوارير الإطفاء المستخدمة'
    },

    {
      type: 'multiple-checkbox',
      question: 'أذكر أنواع البسط (اختر الأنواع الصحيحة):',
      options: [
        { id: 1, text: 'البسط المائي', correct: false },
        { id: 2, text: 'البسط الأفقي', correct: true },
        { id: 3, text: 'البسط الجاف', correct: false },
        { id: 4, text: 'البسط العمودي', correct: true },
        { id: 5, text: 'البسط المائل', correct: true },
      ],
      explanation: 'أنواع البسط (الشبكات)المستخدمة في عمليات الإطفاء'
    },

    {
      type: 'fill-in-blanks',
      question: 'أكمل الجملة حول أنواع الخراطيم:',
      paragraph: 'ما هي أنواع الخراطيم: خرطوم _____, خرطوم _____, خرطوم _____',
      blanks: [
        { id: 0, correctAnswer: 'الدفع' },
        { id: 1, correctAnswer: 'التموين' },
        { id: 2, correctAnswer: 'الامتصاص' }
      ],
      words: ['الدفع', 'التموين', 'الامتصاص', 'الضغط', 'التبريد', 'الرش'],
      explanation: 'الأنواع الثلاثة الرئيسية للخراطيم في الإطفاء'
    },

    {
      type: 'multiple-checkbox',
      question: 'ما هي الإجراءات المتخذة أثناء عملية الإطفاء (اختر الصحيح):',
      options: [
        { id: 1, text: 'الإستطلاع ', correct: true },
        { id: 2, text: 'الحماية الفردية و الجماعية', correct: true },
        { id: 3, text: 'الهجوم', correct: true },
        { id: 4, text: 'الحراسة', correct: true }
      ],
      explanation: 'الإجراءات الأساسية في عملية الإطفاء حسب منهجية MGO'
    },

    {
      type: 'fill-in-blanks',
      question: 'أكمل الجملة حول أضلاع مثلث النار:',
      paragraph: 'أذكر أضلاع مثلث النار: الضلع الأول _____, الضلع الثاني _____, الضلع الثالث _____',
      blanks: [
        { id: 0, correctAnswer: 'مادّة قابلة للإشتعال' },
        { id: 1, correctAnswer: 'الأكسجين' },
        { id: 2, correctAnswer: 'شرارة' }
      ],
      words: ['مادّة قابلة للإشتعال', 'الأكسجين', 'شرارة', 'الماء', 'الرغوة', 'الدخان'],
      explanation: 'مثلث النار يتكون من ثلاثة عناصر أساسية: مادّة قابلة للإشتعال، الأكسجين ،شرارة'
    },

    {
      type: 'true-false',
      question: 'تنتشر النار عبر نقل الغازات فقط.',
      correct: false,
      explanation: 'خطأ - تنتشر النار عبر عدة طرق: التوصيل، الحمل، الإشعاع، ونقل الغازات'
    },

    {
      question: 'ما هي الطريقة الصحيحة لاستخدام قارورة الإطفاء؟',
      options: [
        'رش من بعيد على أعلى اللهب',
        'الاقتراب والرش على قاعدة النار',
        'الرش في الهواء أولاً',
        'استخدام جميع القوارير معاً'
      ],
      correct: 1,
      explanation: 'الطريقة الصحيحة هي الاقتراب والرش على قاعدة النار لقطع مصدر الاشتعال'
    },

    {
      type: 'match-arrows',
      question: 'اربط كل نوع حريق بطريقة الإطفاء المناسبة:',
      leftColumn: [
        { id: 1, text: 'حريق كهربائي' },
        { id: 2, text: 'حريق سوائل' },
        { id: 3, text: 'حريق مواد صلبة' },
        { id: 4, text: 'حريق معادن' }
      ],
      rightColumn: [
        { id: 'a', text: 'الماء الرذاذي' },
        { id: 'b', text: 'ثاني أكسيد الكربون' },
        { id: 'c', text: 'الرغوة' },
        { id: 'd', text: 'الرمل الجاف' }
      ],
      correctMatches: [
        { left: 1, right: 'b' },
        { left: 2, right: 'c' },
        { left: 3, right: 'a' },
        { left: 4, right: 'd' }
      ],
      explanation: 'كل نوع حريق يتطلب نوع مختلف من مواد الإطفاء حسب طبيعة المادة المشتعلة'
    }
  ]
      },

      'أنواع الحرائق': {
        icon: '🔥',
        color: '#ef4444',
        gradient: 'linear-gradient(135deg, #ef4444, #b91c1c)',
        type: 'mixed',
        questions: [
      {
        type: 'multiple-checkbox',
        question: 'اختر المواد التي تنتمي إلى حرائق القسم (A):',
        options: [
          { id: 1, text: 'خشب', correct: true },
          { id: 2, text: 'ورق', correct: true },
          { id: 3, text: 'بنزين', correct: false },
          { id: 4, text: 'ملابس', correct: true },
          { id: 5, text: 'غاز البوتان', correct: false }
        ],
        explanation: 'حرائق القسم A = مواد صلبة يابسة مثل الخشب، الورق، الأقمشة'
      },
      {
        question: 'حرائق القسم (B) هي:',
        options: ['مواد صلبة', 'سوائل قابلة للاشتعال مثل البنزين والكحول', 'غازات وكهرباء', 'معادن'],
        correct: 1,
        explanation: 'القسم B: سوائل قابلة للاشتعال'
      },
      {
        type: 'multiple-checkbox',
        question: 'اختر المواد التي تنتمي إلى حرائق القسم (C):',
        options: [
          { id: 1, text: 'غاز البوتان', correct: true },
          { id: 2, text: 'البروبان', correct: true },
          { id: 3, text: 'أسلاك كهربائية', correct: true },
          { id: 4, text: 'ألمنيوم', correct: false }
        ],
        explanation: 'القسم C: حرائق الغازات والكهرباء'
      },
      {
        type: 'true-false',
        question: 'حرائق المعادن مثل الصوديوم والزنك تنتمي للقسم D.',
        correct: true,
        explanation: 'صحيح، حرائق المعادن مصنفة في القسم D'
      }
    ]
      },

      'أجهزة الإطفاء (القوارير)': {
        icon: '🧯',
        color: '#f59e0b',
        gradient: 'linear-gradient(135deg, #f59e0b, #d97706)',
        type: 'mixed',
        questions: [
      {
        question: 'أي نوع من القوارير يستعمل خاصة لإطفاء الحرائق الكهربائية؟',
        options: ['الماء الرذاذي', 'الرغوة', 'ثاني أكسيد الكربون (CO2)', 'الرمل'],
        correct: 2,
        explanation: 'CO2 يعزل الأكسجين ويطفئ حرائق الكهرباء بأمان'
      },
      {
        type: 'fill-in-blanks',
        paragraph: 'القارورة التي تحتوي على مسحوق مشتق من الصودا والبوطاس هي قارورة _____.',
        blanks: [{ id: 0, correctAnswer: 'المسحوق الجاف' }],
        words: ['الرغوة', 'الماء الرذاذي', 'المسحوق الجاف', 'ثاني أكسيد الكربون'],
        explanation: 'قارورة المسحوق الجاف تستعمل لمختلف الحرائق'
      },
      {
        type: 'multiple-checkbox',
        question: 'اختر القوارير التي لا يجب استعمالها في حرائق الكهرباء:',
        options: [
          { id: 1, text: 'قارورة الماء الرذاذي', correct: true },
          { id: 2, text: 'قارورة الرغوة', correct: true },
          { id: 3, text: 'قارورة ثاني أكسيد الكربون', correct: false },
          { id: 4, text: 'قارورة المسحوق الجاف', correct: false }
        ],
        explanation: 'الماء والرغوة خطران على الكهرباء'
      },
      {
        type: 'true-false',
        question: 'قارورة ثاني أكسيد الكربون يجب استعمالها بحذر في الأماكن المغلقة.',
        correct: true,
        explanation: 'لأنها تعوض الأكسجين ويجب ارتداء جهاز تنفس'
      }
    ]
      },

      'الخطوات العامة للإطفاء (MGO)': {
        icon: '📋',
        color: '#3b82f6',
        gradient: 'linear-gradient(135deg, #3b82f6, #1d4ed8)',
        type: 'mixed',
        questions: [
      {
        type: 'reorder',
        question: 'رتب مراحل MGO بالترتيب الصحيح:',
        items: [
          { id: 1, text: 'الاِطلاع (Reconnaissance)', order: 1 },
          { id: 2, text: 'الإنقاذ (Sauvetages)', order: 2 },
          { id: 3, text: 'تكوين شبكة إطفاء ', order: 3 },
          { id: 4, text: 'الهجوم (Attaque)', order: 4 },
          { id: 5, text: 'الحماية (Protection)', order: 5 },
          { id: 6, text: 'الرفش و التّبريد(Déblai)', order: 6 },
          { id: 7, text: 'الحراسة (Surveillance)', order: 7 }
        ],
        explanation: 'هذا هو الترتيب الرسمي للخطوات أثناء عملية الإطفاء, مع العلم أنّنا نستطيع إضافة ترتيب الوسائل في شاحنة الإطفاء (Retour au calme) كخطوة أخيرة '
      },
      {
        question: 'ما الهدف الأساسي من مرحلة "الاِطلاع"؟',
        options: ['التعرف على خطورة الحريق وتحديد خطة التدخل', 'إطفاء النار مباشرة', 'إنقاذ الضحايا فوراً', 'إغلاق مصادر الكهرباء'],
        correct: 0,
        explanation: 'الاِطلاع = reconnaissance لتقدير الوضع قبل التدخل'
      },
      {
        type: 'match-arrows',
        question: 'اربط كل مرحلة من MGO بوظيفتها:',
        leftColumn: [
          { id: 1, text: 'الإنقاذ' },
          { id: 2, text: 'الهجوم' },
          { id: 3, text: 'الحماية' },
          { id: 4, text: 'الحراسة' }
        ],
        rightColumn: [
          { id: 'a', text: 'توجيه القذف على قاعدة النار' },
          { id: 'b', text: 'إبعاد الأشخاص والممتلكات من الخطر' },
          { id: 'c', text: 'منع إعادة الاشتعال بعد الإطفاء' },
          { id: 'd', text: 'تغطية التجهيزات المهددة' }
        ],
        correctMatches: [
          { left: 1, right: 'b' },
          { left: 2, right: 'a' },
          { left: 3, right: 'd' },
          { left: 4, right: 'c' }
        ],
        explanation: 'كل مرحلة لها دور محدد ضمن الخطة'
      },
      {
        type: 'true-false',
        question: 'مرحلة الرفش (Déblai) تهدف إلى إزالة الركام لمنع إعادة اشتعال النار.',
        correct: true,
        explanation: 'صحيح، الرفش يسهل الإطفاء ويمنع اشتعال البقايا'
      }
    ]
      },

      'الخراطيم والتجهيزات': {
        icon: '🚒',
        color: '#22c55e',
        gradient: 'linear-gradient(135deg, #22c55e, #15803d)',
        type: 'mixed',
        questions: [
      {
        question: 'ما هي الأنواع الرئيسية للخراطيم؟',
        options: ['دفع، تموين، امتصاص', 'ماء، رغوة، هواء', 'نحاس، بلاستيك، حديد', 'غاز، كهرباء، بخار'],
        correct: 0,
        explanation: 'الخراطيم تقسم إلى دفع – تموين – امتصاص'
      },
      {
        type: 'true-false',
        question: 'خراطيم الامتصاص مجهزة بمصفاة لمنع دخول الشوائب إلى المضخة.',
        correct: true,
        explanation: 'صحيح، المصفاة تحمي المضخة من الأجسام الغريبة'
      },
      {
        type: 'multiple-checkbox',
        question: 'اختر الاحتياطات لتفادي تلف الخراطيم:',
        options: [
          { id: 1, text: 'عدم السير فوقها', correct: true },
          { id: 2, text: 'تجنب رميها فوق الإنقاض المحترق', correct: true },
          { id: 3, text: 'تركها مليئة بالماء عند التخزين', correct: false },
          { id: 4, text: 'تجفيفها بعد الاستعمال', correct: true }
        ],
        explanation: 'من الاحتياطات: عدم السير عليها + التجفيف بعد الاستعمال'
      }
    ]
      },

      'المخاطر الخاصة': {
        icon: '⚡',
        color: '#9333ea',
        gradient: 'linear-gradient(135deg, #9333ea, #6b21a8)',
        type: 'mixed',
        questions: [
      {
        type: 'true-false',
        question: 'يجب التأكد من قطع التيار الكهربائي قبل توجيه القاذف على الأسلاك.',
        correct: true,
        explanation: 'صحيح، لأن الماء أو الرغوة ناقلان للكهرباء'
      },
      {
        question: 'لماذا لا يجب إطفاء المعادن المشتعلة بالماء؟',
        options: ['لأنها لا تنطفئ', 'لأنها تطلق غاز هيدروجين متفجر عند ملامسة الماء', 'لأن الماء يتبخر بسرعة', 'لأنها غير قابلة للاحتراق'],
        correct: 1,
        explanation: 'الماء مع المعادن مثل الصوديوم ينتج هيدروجين قابل للانفجار'
      },
      {
        type: 'fill-in-blanks',
        paragraph: 'خلال البرد الشديد يجب أن يتواصل _____ في الشبكات حتى لا يتجمد الماء بداخلها.',
        blanks: [{ id: 0, correctAnswer: 'جريان الماء' }],
        words: ['جريان الماء', 'إطفاء النار', 'انقطاع الكهرباء', 'تسخين الخراطيم'],
        explanation: 'الماء يجب أن يظل جارياً لتجنب التجمد'
      },
      {
        type: 'multiple-checkbox',
        question: 'ما أسباب الانفجارات داخل المباني؟',
        options: [
          { id: 1, text: 'خليط الغاز والهواء', correct: true },
          { id: 2, text: 'الشرارة الكهربائية', correct: true },
          { id: 3, text: 'الصدمة أو الاحتكاك', correct: true },
          { id: 4, text: 'إضافة الرمل', correct: false }
        ],
        explanation: 'الانفجار يحصل بسبب خليط متفجر + شرارة/صدمة'
      }
    ]
      }
    }
  },

  'الإسعافات': {
    id: 'ambulance',
    icon: '🚑',
    color: '#dc2626',
    gradient: 'linear-gradient(135deg, #dc2626, #b91c1c)',
    order: 3,
    description: 'الإسعافات الأوليّة',
    requirements: {
      previousDomain: 'fire',
      minCompletionPercentage: 80
    },
    categories: {
      'الإسعافات الأولية': {
        icon: '🚑',
        color: '#ef4444',
        gradient: 'linear-gradient(135deg, #ef4444, #b91c1c)',
        type: 'mixed',
        questions: [
          {
            question: 'ما هي الخطوة الأولى في الإسعاف؟',
            options: ['تحريك المصاب', 'تقييم الوضع والأمان', 'إعطاء الدواء', 'نقل المصاب للمستشفى'],
            correct: 1,
            explanation: 'الأمان أولاً - يجب تقييم المكان قبل التدخل'
          },
          {
            type: 'multiple-checkbox',
            question: 'علامات فقدان الوعي:',
            options: [
              { id: 1, text: 'عدم الاستجابة للنداء', correct: true },
              { id: 2, text: 'عدم الاستجابة للألم', correct: true },
              { id: 3, text: 'النوم العميق', correct: false },
              { id: 4, text: 'عدم الحركة التلقائية', correct: true }
            ],
            explanation: 'فقدان الوعي يعني عدم الاستجابة للمحفزات'
          }
        ]
      }
    }
  },

  'الإنقاذ': {
    id: 'secourisme',
    icon: '👩‍🚒',
    color: '#dc2626',
    gradient: 'linear-gradient(135deg, #dc2626, #b91c1c)',
    order: 4,
    description: 'الإنقاذ',
    requirements: {
      previousDomain: 'ambulance',
      minCompletionPercentage: 80
    },
    categories: {
      'تقنيات الإنقاذ': {
        icon: '🚁',
        color: '#ef4444',
        gradient: 'linear-gradient(135deg, #ef4444, #b91c1c)',
        type: 'mixed',
        questions: [
          {
            question: 'الأولوية في عمليات الإنقاذ:',
            options: ['إنقاذ الممتلكات', 'إنقاذ الأرواح', 'إطفاء النار', 'تنظيف المكان'],
            correct: 1,
            explanation: 'الأرواح البشرية لها الأولوية المطلقة'
          }
        ]
      }
    }
  }
};

// Structure pour le suivi de progression par domaine
export const playerProgress = {
  domains: {},
  
  isDomainUnlocked: function(domainId, progress = {}) {
    const domain = domains[Object.keys(domains).find(key => domains[key].id === domainId)];
    if (!domain || !domain.requirements) return true;
    
    const prevDomainKey = Object.keys(domains).find(key => domains[key].id === domain.requirements.previousDomain);
    if (!prevDomainKey) return true;
    
    const prevDomainProgress = progress.domains?.[prevDomainKey];
    if (!prevDomainProgress) return false;
    
    const categories = Object.keys(domains[prevDomainKey].categories);
    const completedCategories = categories.filter(cat => 
      prevDomainProgress[cat]?.completed && 
      prevDomainProgress[cat]?.percentage >= (domain.requirements.minCompletionPercentage || 80)
    );
    
    return completedCategories.length === categories.length;
  },
  
  getDomainProgress: function(domainKey, progress = {}) {
    const domainProgress = progress.domains?.[domainKey] || {};
    const categories = Object.keys(domains[domainKey].categories);
    const completedCategories = categories.filter(cat => domainProgress[cat]?.completed);
    
    return {
      completed: completedCategories.length,
      total: categories.length,
      percentage: Math.round((completedCategories.length / categories.length) * 100)
    };
  }
};

// Pour compatibilité avec l'ancien système
export const questionCategories = (() => {
  const flatCategories = {};
  Object.keys(domains).forEach(domainKey => {
    Object.keys(domains[domainKey].categories).forEach(categoryKey => {
      flatCategories[categoryKey] = domains[domainKey].categories[categoryKey];
    });
  });
  return flatCategories;
})();

export const badges = [
  { name: 'نجم مبتدئ', requirement: 100, icon: '⭐' },
  { name: 'محترف', requirement: 300, icon: '🏆' },
  { name: 'خبير', requirement: 500, icon: '🎖️' },
  { name: 'أسطورة', requirement: 800, icon: '👑' },
  { name: 'خبير المجال العسكري', requirement: 'complete_military_domain', icon: '🎖️' },
  { name: 'خبير الحرائق', requirement: 'complete_fire_domain', icon: '🔥' }
];

export const gameSettings = {
  questionTime: 15,
  pointsPerCorrectAnswer: 10,
  timeBonusMultiplier: 3,
  minAge: 20
};